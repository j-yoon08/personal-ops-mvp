(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,95242,e=>{"use strict";e.s(["Pause",()=>t],95242);let t=(0,e.i(75254).default)("pause",[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]])},41947,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(75254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},85071,e=>{"use strict";e.s(["useCreateTask",()=>d,"useTasks",()=>n,"useUpdateTaskState",()=>o]);var t=e.i(66027),s=e.i(54616),a=e.i(12598),l=e.i(16973),i=e.i(32661),r=e.i(93272);let c={all:["tasks"],lists:()=>[...c.all,"list"],list:e=>[...c.lists(),{filters:e}],details:()=>[...c.all,"detail"],detail:e=>[...c.details(),e]};function n(){return(0,t.useQuery)({queryKey:c.lists(),queryFn:()=>l.tasksApi.getAll().then(e=>e.data)})}function d(){let e=(0,a.useQueryClient)();return(0,s.useMutation)({mutationFn:e=>l.tasksApi.create(e).then(e=>e.data),onSuccess:()=>{e.invalidateQueries({queryKey:c.lists()}),e.invalidateQueries({queryKey:i.projectKeys.lists()}),e.invalidateQueries({queryKey:r.dashboardKeys.kpis()})}})}function o(){let e=(0,a.useQueryClient)();return(0,s.useMutation)({mutationFn:e=>{let{id:t,data:s}=e;return l.tasksApi.updateState(t,s).then(e=>e.data)},onSuccess:t=>{e.invalidateQueries({queryKey:c.lists()}),e.setQueryData(c.detail(t.id),t),e.invalidateQueries({queryKey:r.dashboardKeys.kpis()})}})}},63209,e=>{"use strict";e.s(["AlertCircle",()=>t],63209);let t=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},37727,e=>{"use strict";e.s(["X",()=>t.default]);var t=e.i(41947)},3116,e=>{"use strict";e.s(["Clock",()=>t],3116);let t=(0,e.i(75254).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},69638,e=>{"use strict";e.s(["CheckCircle",()=>t],69638);let t=(0,e.i(75254).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},89271,e=>{"use strict";e.s(["NotificationStatus",()=>a,"NotificationType",()=>s,"TaskState",()=>t,"TemplateType",()=>l]);var t=function(e){return e.BACKLOG="BACKLOG",e.IN_PROGRESS="IN_PROGRESS",e.DONE="DONE",e.PAUSED="PAUSED",e.CANCELED="CANCELED",e}({}),s=function(e){return e.DUE_DATE_REMINDER="DUE_DATE_REMINDER",e.OVERDUE_TASK="OVERDUE_TASK",e.MISSING_BRIEF="MISSING_BRIEF",e.MISSING_DOD="MISSING_DOD",e.STALE_TASK="STALE_TASK",e.REVIEW_SCHEDULE="REVIEW_SCHEDULE",e}({}),a=function(e){return e.PENDING="PENDING",e.SENT="SENT",e.READ="READ",e.DISMISSED="DISMISSED",e}({}),l=function(e){return e.BRIEF="BRIEF",e.DOD="DOD",e.PROJECT="PROJECT",e}({})},10241,e=>{"use strict";e.s(["downloadMarkdownFile",()=>a,"exportProjectToMarkdown",()=>s]);var t=e.i(16973);let s=async e=>(await t.default.get("/exports/project/".concat(e,"/md"),{responseType:"blob"})).data,a=(e,t)=>{let s=window.URL.createObjectURL(e),a=document.createElement("a");a.href=s,a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(s)}},32606,e=>{"use strict";e.s(["default",()=>T],32606);var t=e.i(43476),s=e.i(71645),a=e.i(15288),l=e.i(87486),i=e.i(19455),r=e.i(25913),c=e.i(75157);let n=(0,r.cva)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function d(e){let{className:s,variant:a,...l}=e;return(0,t.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,c.cn)(n({variant:a}),s),...l})}function o(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"alert-description",className:(0,c.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",s),...a})}var x=e.i(32661),u=e.i(85071),m=e.i(54616),h=e.i(10241),j=e.i(46696),p=e.i(40160),g=e.i(75505),f=e.i(78583),N=e.i(56272),y=e.i(3116),v=e.i(63209),C=e.i(69638),E=e.i(95242),k=e.i(37727);let S=(0,e.i(75254).default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var D=e.i(89271),b=e.i(1851);let w={[D.TaskState.BACKLOG]:{label:"대기",icon:y.Clock,variant:"secondary",color:"text-gray-600"},[D.TaskState.IN_PROGRESS]:{label:"진행중",icon:v.AlertCircle,variant:"default",color:"text-blue-600"},[D.TaskState.DONE]:{label:"완료",icon:C.CheckCircle,variant:"secondary",color:"text-green-600"},[D.TaskState.PAUSED]:{label:"중단",icon:E.Pause,variant:"outline",color:"text-yellow-600"},[D.TaskState.CANCELED]:{label:"취소",icon:k.X,variant:"destructive",color:"text-red-600"}};function T(){let[e,r]=(0,s.useState)(null),{data:c,isLoading:n}=(0,x.useProjects)(),{data:y,isLoading:v}=(0,u.useTasks)(),E=(0,m.useMutation)({mutationFn:async e=>{r(e);let t=await (0,h.exportProjectToMarkdown)(e),s=null==c?void 0:c.find(t=>t.id===e),a="".concat((null==s?void 0:s.name)||"project","_").concat((0,b.format)(new Date,"yyyy-MM-dd"),".md");return(0,h.downloadMarkdownFile)(t,a),a},onSuccess:e=>{j.toast.success("".concat(e," 파일이 다운로드되었습니다!"))},onError:e=>{var t,s;let a=(null==e||null==(s=e.response)||null==(t=s.data)?void 0:t.detail)||"내보내기에 실패했습니다.";j.toast.error(a),console.error("Export error:",e)},onSettled:()=>{r(null)}});return n||v?(0,t.jsx)("div",{className:"container mx-auto p-6",children:(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsxs)("div",{className:"text-center space-y-4",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-primary border-t-transparent mx-auto"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"프로젝트를 불러오는 중..."})]})})}):(0,t.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[(0,t.jsx)(p.Download,{className:"h-8 w-8"}),"마크다운 내보내기"]}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"프로젝트를 마크다운 형태로 내보내기 - README, 블로그, Notion 등에 활용"})]}),(0,t.jsxs)(d,{children:[(0,t.jsx)(S,{className:"h-4 w-4"}),(0,t.jsx)(o,{children:"내보내기 파일에는 프로젝트 개요, 작업 목록, 5SB, DoD, 의사결정 로그, 리뷰 데이터가 모두 포함됩니다."})]})]}),(0,t.jsxs)(a.Card,{children:[(0,t.jsxs)(a.CardHeader,{children:[(0,t.jsx)(a.CardTitle,{children:"내보낼 프로젝트 선택"}),(0,t.jsx)(a.CardDescription,{children:(null==c?void 0:c.length)?"".concat(c.length,"개의 프로젝트 중 선택하여 마크다운으로 내보내세요"):"내보낼 프로젝트가 없습니다"})]}),(0,t.jsx)(a.CardContent,{children:(null==c?void 0:c.length)?(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(s=>{let r=(e=>{if(!y)return{total:0,done:0,completion:0};let t=y.filter(t=>t.project_id===e),s=t.filter(e=>e.state===D.TaskState.DONE).length,a=t.length,l=a>0?Math.round(s/a*100):0;return{total:a,done:s,completion:l}})(s.id),c=e===s.id;return(0,t.jsxs)(a.Card,{className:"relative",children:[(0,t.jsxs)(a.CardHeader,{children:[(0,t.jsx)("div",{className:"flex items-start justify-between",children:(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)(a.CardTitle,{className:"text-lg mb-2",children:s.name}),s.description&&(0,t.jsx)(a.CardDescription,{className:"mb-3",children:s.description})]})}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(N.CheckSquare,{className:"h-4 w-4"}),(0,t.jsxs)("span",{children:[r.total,"개 작업"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(C.CheckCircle,{className:"h-4 w-4 text-green-600"}),(0,t.jsxs)("span",{children:[r.completion,"% 완료"]})]})]})]}),(0,t.jsxs)(a.CardContent,{children:[y&&(0,t.jsx)("div",{className:"flex flex-wrap gap-1 mb-4",children:Object.entries(D.TaskState).map(e=>{let[a,i]=e,r=y.filter(e=>e.project_id===s.id&&e.state===i).length;if(0===r)return null;let c=w[i],n=c.icon;return(0,t.jsxs)(l.Badge,{variant:c.variant,className:"text-xs",children:[(0,t.jsx)(n,{className:"h-3 w-3 mr-1"}),r]},a)})}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(i.Button,{onClick:()=>{var e;return e=s.id,void E.mutate(e)},disabled:c||E.isPending,className:"flex-1",children:[(0,t.jsx)(p.Download,{className:"mr-2 h-4 w-4"}),c?"내보내는 중...":"MD 다운로드"]}),(0,t.jsx)(i.Button,{variant:"outline",asChild:!0,children:(0,t.jsx)("a",{href:"/projects/".concat(s.id),children:(0,t.jsx)(f.FileText,{className:"h-4 w-4"})})})]})]})]},s.id)})}):(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(g.FolderOpen,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"프로젝트가 없습니다"}),(0,t.jsx)("p",{className:"text-muted-foreground mb-4",children:"먼저 프로젝트를 생성한 후 내보내기를 사용해보세요."}),(0,t.jsx)(i.Button,{asChild:!0,children:(0,t.jsx)("a",{href:"/projects",children:"프로젝트 만들기"})})]})})]}),(0,t.jsxs)(a.Card,{children:[(0,t.jsxs)(a.CardHeader,{children:[(0,t.jsxs)(a.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(f.FileText,{className:"h-5 w-5"}),"내보내기 형식"]}),(0,t.jsx)(a.CardDescription,{children:"마크다운 파일에 포함되는 내용들"})]}),(0,t.jsx)(a.CardContent,{children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold mb-3",children:"포함되는 정보"}),(0,t.jsxs)("ul",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("li",{className:"flex items-center gap-2",children:[(0,t.jsx)(C.CheckCircle,{className:"h-4 w-4 text-green-600"}),"프로젝트 기본 정보 (이름, 설명, 생성일)"]}),(0,t.jsxs)("li",{className:"flex items-center gap-2",children:[(0,t.jsx)(C.CheckCircle,{className:"h-4 w-4 text-green-600"}),"프로젝트 통계 (작업 수, 완료율)"]}),(0,t.jsxs)("li",{className:"flex items-center gap-2",children:[(0,t.jsx)(C.CheckCircle,{className:"h-4 w-4 text-green-600"}),"작업 목록 및 상태"]}),(0,t.jsxs)("li",{className:"flex items-center gap-2",children:[(0,t.jsx)(C.CheckCircle,{className:"h-4 w-4 text-green-600"}),"5문장 브리프 (5SB) 상세 내용"]}),(0,t.jsxs)("li",{className:"flex items-center gap-2",children:[(0,t.jsx)(C.CheckCircle,{className:"h-4 w-4 text-green-600"}),"완료 정의 (DoD) 상세 내용"]}),(0,t.jsxs)("li",{className:"flex items-center gap-2",children:[(0,t.jsx)(C.CheckCircle,{className:"h-4 w-4 text-green-600"}),"의사결정 로그 (문제, 옵션, 결정 사유, 위험요소, D+7 리뷰)"]}),(0,t.jsxs)("li",{className:"flex items-center gap-2",children:[(0,t.jsx)(C.CheckCircle,{className:"h-4 w-4 text-green-600"}),"리뷰 데이터 (Premortem, Midmortem, Retro 결과)"]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold mb-3",children:"활용 방안"}),(0,t.jsxs)("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[(0,t.jsx)("li",{children:"• GitHub README.md 파일로 활용"}),(0,t.jsx)("li",{children:"• Notion, Obsidian 등에 임포트"}),(0,t.jsx)("li",{children:"• 블로그 포스트 작성 시 참고"}),(0,t.jsx)("li",{children:"• 프로젝트 보고서 초안 작성"}),(0,t.jsx)("li",{children:"• 팀 회의 자료로 활용"})]})]})]})})]})]})}}]);