(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,26514,e=>{"use strict";e.s(["parseISO",()=>r]);var t=e.i(34662),n=e.i(77241),s=e.i(81092);function r(e,r){var f;let x,p,h=()=>(0,n.constructFrom)(null==r?void 0:r.in,NaN),v=null!=(f=null==r?void 0:r.additionalDigits)?f:2,g=function(e){let t,n={},s=e.split(i.dateTimeDelimiter);if(s.length>2)return n;if(/:/.test(s[0])?t=s[0]:(n.date=s[0],t=s[1],i.timeZoneDelimiter.test(n.date)&&(n.date=e.split(i.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length))),t){let e=i.timezone.exec(t);e?(n.time=t.replace(e[1],""),n.timezone=e[1]):n.time=t}return n}(e);if(g.date){let e=function(e,t){let n=RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),s=e.match(n);if(!s)return{year:NaN,restDateString:""};let r=s[1]?parseInt(s[1]):null,i=s[2]?parseInt(s[2]):null;return{year:null===i?r:100*i,restDateString:e.slice((s[1]||s[2]).length)}}(g.date,v);x=function(e,t){var n,s,r,i,l,o,c;if(null===t)return new Date(NaN);let f=e.match(a);if(!f)return new Date(NaN);let x=!!f[4],p=d(f[1]),h=d(f[2])-1,v=d(f[3]),g=d(f[4]),N=d(f[5])-1;if(x){return(n=g,s=N,n>=1&&n<=53&&s>=0&&s<=6)?function(e,t,n){let s=new Date(0);s.setUTCFullYear(e,0,4);let r=s.getUTCDay()||7;return s.setUTCDate(s.getUTCDate()+((t-1)*7+n+1-r)),s}(t,g,N):new Date(NaN)}{let e=new Date(0);return(r=t,i=h,l=v,i>=0&&i<=11&&l>=1&&l<=(u[i]||(m(r)?29:28))&&(o=t,(c=p)>=1&&c<=(m(o)?366:365)))?(e.setUTCFullYear(t,h,Math.max(p,v)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!x||isNaN(+x))return h();let N=+x,j=0;if(g.time&&isNaN(j=function(e){var n,s,r;let i=e.match(l);if(!i)return NaN;let a=c(i[1]),o=c(i[2]),d=c(i[3]);return(n=a,s=o,r=d,24===n?0===s&&0===r:r>=0&&r<60&&s>=0&&s<60&&n>=0&&n<25)?a*t.millisecondsInHour+o*t.millisecondsInMinute+1e3*d:NaN}(g.time)))return h();if(g.timezone){if(isNaN(p=function(e){var n;if("Z"===e)return 0;let s=e.match(o);if(!s)return 0;let r="+"===s[1]?-1:1,i=parseInt(s[2]),a=s[3]&&parseInt(s[3])||0;return(n=a)>=0&&n<=59?r*(i*t.millisecondsInHour+a*t.millisecondsInMinute):NaN}(g.timezone)))return h()}else{let e=new Date(N+j),t=(0,s.toDate)(0,null==r?void 0:r.in);return t.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),t.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),t}return(0,s.toDate)(N+j+p,null==r?void 0:r.in)}let i={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},a=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,l=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,o=/^([+-])(\d{2})(?::?(\d{2}))?$/;function d(e){return e?parseInt(e):1}function c(e){return e&&parseFloat(e.replace(",","."))||0}let u=[31,null,31,30,31,30,31,31,30,31,30,31];function m(e){return e%400==0||e%4==0&&e%100!=0}},3116,e=>{"use strict";e.s(["Clock",()=>t],3116);let t=(0,e.i(75254).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},63209,e=>{"use strict";e.s(["AlertCircle",()=>t],63209);let t=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},85071,e=>{"use strict";e.s(["useCreateTask",()=>d,"useTasks",()=>o,"useUpdateTaskState",()=>c]);var t=e.i(66027),n=e.i(54616),s=e.i(12598),r=e.i(16973),i=e.i(32661),a=e.i(93272);let l={all:["tasks"],lists:()=>[...l.all,"list"],list:e=>[...l.lists(),{filters:e}],details:()=>[...l.all,"detail"],detail:e=>[...l.details(),e]};function o(){return(0,t.useQuery)({queryKey:l.lists(),queryFn:()=>r.tasksApi.getAll().then(e=>e.data)})}function d(){let e=(0,s.useQueryClient)();return(0,n.useMutation)({mutationFn:e=>r.tasksApi.create(e).then(e=>e.data),onSuccess:()=>{e.invalidateQueries({queryKey:l.lists()}),e.invalidateQueries({queryKey:i.projectKeys.lists()}),e.invalidateQueries({queryKey:a.dashboardKeys.kpis()})}})}function c(){let e=(0,s.useQueryClient)();return(0,n.useMutation)({mutationFn:e=>{let{id:t,data:n}=e;return r.tasksApi.updateState(t,n).then(e=>e.data)},onSuccess:t=>{e.invalidateQueries({queryKey:l.lists()}),e.setQueryData(l.detail(t.id),t),e.invalidateQueries({queryKey:a.dashboardKeys.kpis()})}})}},10204,e=>{"use strict";e.s(["Label",()=>a],10204);var t=e.i(43476),n=e.i(71645),s=e.i(48425),r=n.forwardRef((e,n)=>(0,t.jsx)(s.Primitive.label,{...e,ref:n,onMouseDown:t=>{var n;t.target.closest("button, input, select, textarea")||(null==(n=e.onMouseDown)||n.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));r.displayName="Label";var i=e.i(75157);function a(e){let{className:n,...s}=e;return(0,t.jsx)(r,{"data-slot":"label",className:(0,i.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",n),...s})}},81140,30030,e=>{"use strict";function t(e,t){let{checkForDefaultPrevented:n=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(s){if(null==e||e(s),!1===n||!s.defaultPrevented)return null==t?void 0:t(s)}}e.s(["composeEventHandlers",()=>t],81140),"undefined"!=typeof window&&window.document&&window.document.createElement,e.s(["createContext",()=>r,"createContextScope",()=>i],30030);var n=e.i(71645),s=e.i(43476);function r(e,t){let r=n.createContext(t),i=e=>{let{children:t,...i}=e,a=n.useMemo(()=>i,Object.values(i));return(0,s.jsx)(r.Provider,{value:a,children:t})};return i.displayName=e+"Provider",[i,function(s){let i=n.useContext(r);if(i)return i;if(void 0!==t)return t;throw Error("`".concat(s,"` must be used within `").concat(e,"`"))}]}function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[],i=()=>{let t=r.map(e=>n.createContext(e));return function(s){let r=(null==s?void 0:s[e])||t;return n.useMemo(()=>({["__scope".concat(e)]:{...s,[e]:r}}),[s,r])}};return i.scopeName=e,[function(t,i){let a=n.createContext(i),l=r.length;r=[...r,i];let o=t=>{var r;let{scope:i,children:o,...d}=t,c=(null==i||null==(r=i[e])?void 0:r[l])||a,u=n.useMemo(()=>d,Object.values(d));return(0,s.jsx)(c.Provider,{value:u,children:o})};return o.displayName=t+"Provider",[o,function(s,r){var o;let d=(null==r||null==(o=r[e])?void 0:o[l])||a,c=n.useContext(d);if(c)return c;if(void 0!==i)return i;throw Error("`".concat(s,"` must be used within `").concat(t,"`"))}]},function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];let r=t[0];if(1===t.length)return r;let i=()=>{let e=t.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(t){let s=e.reduce((e,n)=>{let{useScope:s,scopeName:r}=n,i=s(t)["__scope".concat(r)];return{...e,...i}},{});return n.useMemo(()=>({["__scope".concat(r.scopeName)]:s}),[s])}};return i.scopeName=r.scopeName,i}(i,...t)]}},10772,34620,e=>{"use strict";e.s(["useId",()=>a],10772);var t,n=e.i(71645);e.s(["useLayoutEffect",()=>s],34620);var s=(null==(t=globalThis)?void 0:t.document)?n.useLayoutEffect:()=>{},r=n[" useId ".trim().toString()]||(()=>void 0),i=0;function a(e){let[t,a]=n.useState(r());return s(()=>{e||a(e=>null!=e?e:String(i++))},[e]),e||(t?"radix-".concat(t):"")}},69340,e=>{"use strict";e.s(["useControllableState",()=>r],69340);var t=e.i(71645),n=e.i(34620);t[" useEffectEvent ".trim().toString()],t[" useInsertionEffect ".trim().toString()];var s=t[" useInsertionEffect ".trim().toString()]||n.useLayoutEffect;function r(e){let{prop:n,defaultProp:r,onChange:i=()=>{},caller:a}=e,[l,o,d]=function(e){let{defaultProp:n,onChange:r}=e,[i,a]=t.useState(n),l=t.useRef(i),o=t.useRef(r);return s(()=>{o.current=r},[r]),t.useEffect(()=>{if(l.current!==i){var e;null==(e=o.current)||e.call(o,i),l.current=i}},[i,l]),[i,a,o]}({defaultProp:r,onChange:i}),c=void 0!==n,u=c?n:l;{let e=t.useRef(void 0!==n);t.useEffect(()=>{let t=e.current;if(t!==c){let e=c?"controlled":"uncontrolled";console.warn("".concat(a," is changing from ").concat(t?"controlled":"uncontrolled"," to ").concat(e,". Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component."))}e.current=c},[c,a])}return[u,t.useCallback(e=>{if(c){let s="function"==typeof e?e(n):e;if(s!==n){var t;null==(t=d.current)||t.call(d,s)}}else o(e)},[c,n,o,d])]}Symbol("RADIX:SYNC_STATE")},48425,30207,e=>{"use strict";e.s(["Primitive",()=>i,"dispatchDiscreteCustomEvent",()=>a],48425);var t=e.i(71645),n=e.i(74080),s=e.i(91918),r=e.i(43476),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,n)=>{let i=(0,s.createSlot)("Primitive.".concat(n)),a=t.forwardRef((e,t)=>{let{asChild:s,...a}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,r.jsx)(s?i:n,{...a,ref:t})});return a.displayName="Primitive.".concat(n),{...e,[n]:a}},{});function a(e,t){e&&n.flushSync(()=>e.dispatchEvent(t))}function l(e){let n=t.useRef(e);return t.useEffect(()=>{n.current=e}),t.useMemo(()=>function(){for(var e,t=arguments.length,s=Array(t),r=0;r<t;r++)s[r]=arguments[r];return null==(e=n.current)?void 0:e.call(n,...s)},[])}e.s(["useCallbackRef",()=>l],30207)},96626,e=>{"use strict";e.s(["Presence",()=>r]);var t=e.i(71645),n=e.i(20783),s=e.i(34620),r=e=>{let{present:r,children:a}=e,l=function(e){var n,r;let[a,l]=t.useState(),o=t.useRef(null),d=t.useRef(e),c=t.useRef("none"),[u,m]=(n=e?"mounted":"unmounted",r={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},t.useReducer((e,t)=>{let n=r[e][t];return null!=n?n:e},n));return t.useEffect(()=>{let e=i(o.current);c.current="mounted"===u?e:"none"},[u]),(0,s.useLayoutEffect)(()=>{let t=o.current,n=d.current;if(n!==e){let s=c.current,r=i(t);e?m("MOUNT"):"none"===r||(null==t?void 0:t.display)==="none"?m("UNMOUNT"):n&&s!==r?m("ANIMATION_OUT"):m("UNMOUNT"),d.current=e}},[e,m]),(0,s.useLayoutEffect)(()=>{if(a){var e;let t,n=null!=(e=a.ownerDocument.defaultView)?e:window,s=e=>{let s=i(o.current).includes(CSS.escape(e.animationName));if(e.target===a&&s&&(m("ANIMATION_END"),!d.current)){let e=a.style.animationFillMode;a.style.animationFillMode="forwards",t=n.setTimeout(()=>{"forwards"===a.style.animationFillMode&&(a.style.animationFillMode=e)})}},r=e=>{e.target===a&&(c.current=i(o.current))};return a.addEventListener("animationstart",r),a.addEventListener("animationcancel",s),a.addEventListener("animationend",s),()=>{n.clearTimeout(t),a.removeEventListener("animationstart",r),a.removeEventListener("animationcancel",s),a.removeEventListener("animationend",s)}}m("ANIMATION_END")},[a,m]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:t.useCallback(e=>{o.current=e?getComputedStyle(e):null,l(e)},[])}}(r),o="function"==typeof a?a({present:l.isPresent}):t.Children.only(a),d=(0,n.useComposedRefs)(l.ref,function(e){var t,n;let s=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,r=s&&"isReactWarning"in s&&s.isReactWarning;return r?e.ref:(r=(s=null==(n=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:n.get)&&"isReactWarning"in s&&s.isReactWarning)?e.props.ref:e.props.ref||e.ref}(o));return"function"==typeof a||l.isPresent?t.cloneElement(o,{ref:d}):null};function i(e){return(null==e?void 0:e.animationName)||"none"}r.displayName="Presence"},41947,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(75254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},24687,e=>{"use strict";e.s(["Textarea",()=>s]);var t=e.i(43476),n=e.i(75157);function s(e){let{className:s,...r}=e;return(0,t.jsx)("textarea",{"data-slot":"textarea",className:(0,n.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),...r})}},41240,e=>{"use strict";e.s(["Lightbulb",()=>t],41240);let t=(0,e.i(75254).default)("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]])},99532,e=>{"use strict";e.s(["createDecision",()=>n,"getAllDecisions",()=>r,"getDecisionsByTask",()=>s,"updateDecisionD7Review",()=>i]);var t=e.i(16973);let n=async e=>{try{return await t.default.post("/decisions",e),(await t.default.get("/decisions/task/".concat(e.task_id))).data.sort((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime())[0]||null}catch(e){return null}},s=async e=>{try{return(await t.default.get("/decisions/task/".concat(e))).data}catch(e){return[]}},r=async()=>{try{return(await t.default.get("/decisions")).data}catch(e){return[]}},i=(e,n)=>t.default.patch("/decisions/".concat(e,"/dplus7"),n).then(e=>e.data)},77042,e=>{"use strict";e.s(["default",()=>F],77042);var t=e.i(43476),n=e.i(71645),s=e.i(15288),r=e.i(87486),i=e.i(19455),a=e.i(93479),l=e.i(66027),o=e.i(99532),d=e.i(85071),c=e.i(32661),u=e.i(76639),m=e.i(3133),f=e.i(24687),x=e.i(3116),p=e.i(53145),h=e.i(94814),v=e.i(62201),g=e.i(54616),N=e.i(12598),j=e.i(46696),y=e.i(77241),w=e.i(81092);function b(e,t,n){let s=(0,w.toDate)(e,null==n?void 0:n.in);return isNaN(t)?(0,y.constructFrom)((null==n?void 0:n.in)||e,NaN):(t&&s.setDate(s.getDate()+t),s)}var C=e.i(1851),D=e.i(26514);let _=v.object({d_plus_7_review:v.string().min(1,"D+7 리뷰를 입력해주세요")});function T(e){let{decisionId:s,taskId:r,decisionDate:a,existingReview:l,triggerText:d="D+7 리뷰"}=e,[c,v]=(0,n.useState)(!1),y=(0,N.useQueryClient)(),w=(0,C.format)(b((0,D.parseISO)(a),7),"yyyy-MM-dd"),T=new Date>=b((0,D.parseISO)(a),7),k=(0,p.useForm)({resolver:(0,h.zodResolver)(_),defaultValues:{d_plus_7_review:l||""}}),S=(0,g.useMutation)({mutationFn:e=>{let{id:t,data:n}=e;return(0,o.updateDecisionD7Review)(t,n)},onSuccess:()=>{j.toast.success("D+7 리뷰가 저장되었습니다!"),y.invalidateQueries({queryKey:["decisions",r]}),y.invalidateQueries({queryKey:["all-decisions"]}),v(!1)},onError:e=>{var t,n;let s=(null==e||null==(n=e.response)||null==(t=n.data)?void 0:t.detail)||"리뷰 저장에 실패했습니다.";j.toast.error(s),console.error("Error updating D+7 review:",e)}}),M=async e=>{S.mutate({id:s,data:{d_plus_7_review:e.d_plus_7_review}})};return(0,t.jsxs)(u.Dialog,{open:c,onOpenChange:v,children:[(0,t.jsx)(u.DialogTrigger,{asChild:!0,children:(0,t.jsxs)(i.Button,{variant:l?"secondary":"outline",size:"sm",className:T?"":"opacity-50",children:[(0,t.jsx)(x.Clock,{className:"mr-2 h-4 w-4"}),l?"리뷰 수정":d]})}),(0,t.jsxs)(u.DialogContent,{className:"sm:max-w-[600px]",children:[(0,t.jsxs)(u.DialogHeader,{children:[(0,t.jsxs)(u.DialogTitle,{children:["D+7 리뷰 ",l?"수정":"작성"]}),(0,t.jsxs)(u.DialogDescription,{children:["결정일로부터 7일 후(",w,")에 실시하는 회고입니다.",!T&&" 아직 리뷰 시점이 아니지만 미리 작성할 수 있습니다."]})]}),(0,t.jsx)(m.Form,{...k,children:(0,t.jsxs)("form",{onSubmit:k.handleSubmit(M),className:"space-y-4",children:[(0,t.jsx)(m.FormField,{control:k.control,name:"d_plus_7_review",render:e=>{let{field:n}=e;return(0,t.jsxs)(m.FormItem,{children:[(0,t.jsx)(m.FormLabel,{children:"D+7 리뷰 *"}),(0,t.jsx)(m.FormControl,{children:(0,t.jsx)(f.Textarea,{placeholder:"7일이 지난 시점에서 이 결정을 어떻게 평가하나요?  - 결정이 올바랗았나요? - 예상했던 결과가 나왔나요? - 가정사항과 리스크는 어떻게 되었나요? - 다시 결정한다면 어떻게 하시겠나요?",className:"min-h-[150px]",...n})}),(0,t.jsx)(m.FormMessage,{})]})}}),(0,t.jsxs)("div",{className:"flex justify-end space-x-2 pt-4",children:[(0,t.jsx)(i.Button,{type:"button",variant:"outline",onClick:()=>v(!1),children:"취소"}),(0,t.jsx)(i.Button,{type:"submit",disabled:S.isPending,children:S.isPending?"저장 중...":"저장"})]})]})})]})]})}var k=e.i(86311),S=e.i(55436),M=e.i(87316),I=e.i(75505),E=e.i(63209);let O=(0,e.i(75254).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var L=e.i(41240),R=e.i(20278);function A(e){return+(0,w.toDate)(e)<Date.now()}var U=e.i(22016);function F(){let[e,u]=(0,n.useState)(""),{data:m,isLoading:f}=(0,l.useQuery)({queryKey:["all-decisions"],queryFn:o.getAllDecisions,retry:!1}),{data:p,isLoading:h}=(0,d.useTasks)(),{data:v,isLoading:g}=(0,c.useProjects)(),N=(null==p?void 0:p.reduce((e,t)=>(e[t.id]=t,e),{}))||{},j=(null==v?void 0:v.reduce((e,t)=>(e[t.id]=t,e),{}))||{},y=(null==m?void 0:m.filter(t=>{var n;if(!e)return!0;let s=e.toLowerCase(),r=N[t.task_id],i=r?j[r.project_id]:null;return t.problem.toLowerCase().includes(s)||t.options.toLowerCase().includes(s)||t.decision_reason.toLowerCase().includes(s)||t.assumptions_risks.toLowerCase().includes(s)||(null==(n=t.d_plus_7_review)?void 0:n.toLowerCase().includes(s))||(null==r?void 0:r.title.toLowerCase().includes(s))||(null==i?void 0:i.name.toLowerCase().includes(s))}))||[],w={total:(null==m?void 0:m.length)||0,withReview:(null==m?void 0:m.filter(e=>e.d_plus_7_review).length)||0,pendingReview:(null==m?void 0:m.filter(e=>!e.d_plus_7_review&&A(b((0,D.parseISO)(e.date),7))).length)||0};return f||h||g?(0,t.jsx)("div",{className:"container mx-auto p-6",children:(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsxs)("div",{className:"text-center space-y-4",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-primary border-t-transparent mx-auto"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"의사결정을 불러오는 중..."})]})})}):(0,t.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[(0,t.jsx)(k.MessageSquare,{className:"h-8 w-8"}),"의사결정 로그"]}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Decision Log + D+7 리뷰 - 중요한 의사결정과 회고"})]}),(0,t.jsxs)("div",{className:"relative max-w-md",children:[(0,t.jsx)(S.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(a.Input,{placeholder:"의사결정 내용, 작업명, 프로젝트명으로 검색...",value:e,onChange:e=>u(e.target.value),className:"pl-10"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)(s.Card,{children:[(0,t.jsx)(s.CardHeader,{className:"pb-3",children:(0,t.jsx)(s.CardTitle,{className:"text-lg",children:"전체 의사결정"})}),(0,t.jsx)(s.CardContent,{children:(0,t.jsx)("div",{className:"text-3xl font-bold",children:w.total})})]}),(0,t.jsxs)(s.Card,{children:[(0,t.jsx)(s.CardHeader,{className:"pb-3",children:(0,t.jsx)(s.CardTitle,{className:"text-lg",children:"리뷰 완료"})}),(0,t.jsx)(s.CardContent,{children:(0,t.jsx)("div",{className:"text-3xl font-bold text-green-600",children:w.withReview})})]}),(0,t.jsxs)(s.Card,{children:[(0,t.jsx)(s.CardHeader,{className:"pb-3",children:(0,t.jsx)(s.CardTitle,{className:"text-lg",children:"리뷰 대기"})}),(0,t.jsx)(s.CardContent,{children:(0,t.jsx)("div",{className:"text-3xl font-bold text-orange-600",children:w.pendingReview})})]})]}),(0,t.jsxs)(s.Card,{children:[(0,t.jsxs)(s.CardHeader,{children:[(0,t.jsx)(s.CardTitle,{children:"의사결정 목록"}),(0,t.jsx)(s.CardDescription,{children:y.length?"".concat(y.length,"개의 의사결정 기록"):"검색 조건에 맞는 의사결정이 없습니다"})]}),(0,t.jsx)(s.CardContent,{children:0===y.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(k.MessageSquare,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:0===w.total?"작성된 의사결정이 없습니다":"검색 결과가 없습니다"}),(0,t.jsx)("p",{className:"text-muted-foreground mb-4",children:0===w.total?"프로젝트 상세 페이지에서 작업별로 의사결정을 기록해보세요":"다른 검색어로 시도해보세요"}),0===w.total&&(0,t.jsx)(i.Button,{asChild:!0,children:(0,t.jsx)(U.default,{href:"/projects",children:"프로젝트 보기"})})]}):(0,t.jsx)("div",{className:"space-y-6",children:y.sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime()).map(e=>{let n=N[e.task_id],a=n?j[n.project_id]:null,l=b((0,D.parseISO)(e.date),7),o=A(l);return(0,t.jsxs)(s.Card,{className:"border-l-4 border-l-purple-500",children:[(0,t.jsx)(s.CardHeader,{children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsxs)(r.Badge,{variant:"outline",className:"flex items-center gap-1",children:[(0,t.jsx)(M.Calendar,{className:"h-3 w-3"}),(0,C.format)((0,D.parseISO)(e.date),"yyyy-MM-dd")]}),e.d_plus_7_review?(0,t.jsxs)(r.Badge,{variant:"default",className:"bg-green-600 flex items-center gap-1",children:[(0,t.jsx)(O,{className:"h-3 w-3"}),"리뷰 완료"]}):o?(0,t.jsxs)(r.Badge,{variant:"destructive",className:"flex items-center gap-1",children:[(0,t.jsx)(E.AlertCircle,{className:"h-3 w-3"}),"리뷰 필요"]}):(0,t.jsxs)(r.Badge,{variant:"secondary",className:"flex items-center gap-1",children:[(0,t.jsx)(x.Clock,{className:"h-3 w-3"}),"리뷰 대기"]})]}),n&&(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(I.FolderOpen,{className:"h-4 w-4"}),(0,t.jsx)(U.default,{href:"/projects/".concat(n.project_id),className:"hover:underline",children:(null==a?void 0:a.name)||"프로젝트 ".concat(n.project_id)})]}),(0,t.jsxs)("span",{children:["→ ",n.title]})]})]}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)(T,{decisionId:e.id,taskId:e.task_id,decisionDate:e.date,existingReview:e.d_plus_7_review})})]})}),(0,t.jsxs)(s.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"font-semibold text-sm text-muted-foreground mb-1 flex items-center gap-1",children:[(0,t.jsx)(E.AlertCircle,{className:"h-3 w-3"}),"문제 상황"]}),(0,t.jsx)("p",{className:"text-sm",children:e.problem})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"font-semibold text-sm text-muted-foreground mb-1 flex items-center gap-1",children:[(0,t.jsx)(L.Lightbulb,{className:"h-3 w-3"}),"검토한 옵션들"]}),(0,t.jsx)("p",{className:"text-sm",children:e.options})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"font-semibold text-sm text-muted-foreground mb-1 flex items-center gap-1",children:[(0,t.jsx)(R.Target,{className:"h-3 w-3"}),"결정 이유"]}),(0,t.jsx)("p",{className:"text-sm",children:e.decision_reason})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold text-sm text-muted-foreground mb-1",children:"가정사항 & 리스크"}),(0,t.jsx)("p",{className:"text-sm",children:e.assumptions_risks})]}),e.d_plus_7_review&&(0,t.jsxs)("div",{className:"border-t pt-4",children:[(0,t.jsxs)("h4",{className:"font-semibold text-sm text-muted-foreground mb-1 flex items-center gap-1",children:[(0,t.jsx)(O,{className:"h-3 w-3"}),"D+7 리뷰 (",(0,C.format)(l,"yyyy-MM-dd"),")"]}),(0,t.jsx)("p",{className:"text-sm bg-muted p-3 rounded-md",children:e.d_plus_7_review})]}),(0,t.jsx)("div",{className:"flex justify-end pt-2",children:(0,t.jsx)(i.Button,{asChild:!0,variant:"outline",size:"sm",children:(0,t.jsx)(U.default,{href:"/projects/".concat(null==n?void 0:n.project_id),children:"작업 보기"})})})]})]},e.id)})})})]})]})}}]);