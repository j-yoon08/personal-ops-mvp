(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,26514,e=>{"use strict";e.s(["parseISO",()=>n]);var t=e.i(34662),r=e.i(77241),i=e.i(81092);function n(e,n){var m;let f,v,p=()=>(0,r.constructFrom)(null==n?void 0:n.in,NaN),x=null!=(m=null==n?void 0:n.additionalDigits)?m:2,g=function(e){let t,r={},i=e.split(s.dateTimeDelimiter);if(i.length>2)return r;if(/:/.test(i[0])?t=i[0]:(r.date=i[0],t=i[1],s.timeZoneDelimiter.test(r.date)&&(r.date=e.split(s.timeZoneDelimiter)[0],t=e.substr(r.date.length,e.length))),t){let e=s.timezone.exec(t);e?(r.time=t.replace(e[1],""),r.timezone=e[1]):r.time=t}return r}(e);if(g.date){let e=function(e,t){let r=RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),i=e.match(r);if(!i)return{year:NaN,restDateString:""};let n=i[1]?parseInt(i[1]):null,s=i[2]?parseInt(i[2]):null;return{year:null===s?n:100*s,restDateString:e.slice((i[1]||i[2]).length)}}(g.date,x);f=function(e,t){var r,i,n,s,a,o,u;if(null===t)return new Date(NaN);let m=e.match(l);if(!m)return new Date(NaN);let f=!!m[4],v=d(m[1]),p=d(m[2])-1,x=d(m[3]),g=d(m[4]),y=d(m[5])-1;if(f){return(r=g,i=y,r>=1&&r<=53&&i>=0&&i<=6)?function(e,t,r){let i=new Date(0);i.setUTCFullYear(e,0,4);let n=i.getUTCDay()||7;return i.setUTCDate(i.getUTCDate()+((t-1)*7+r+1-n)),i}(t,g,y):new Date(NaN)}{let e=new Date(0);return(n=t,s=p,a=x,s>=0&&s<=11&&a>=1&&a<=(c[s]||(h(n)?29:28))&&(o=t,(u=v)>=1&&u<=(h(o)?366:365)))?(e.setUTCFullYear(t,p,Math.max(v,x)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!f||isNaN(+f))return p();let y=+f,j=0;if(g.time&&isNaN(j=function(e){var r,i,n;let s=e.match(a);if(!s)return NaN;let l=u(s[1]),o=u(s[2]),d=u(s[3]);return(r=l,i=o,n=d,24===r?0===i&&0===n:n>=0&&n<60&&i>=0&&i<60&&r>=0&&r<25)?l*t.millisecondsInHour+o*t.millisecondsInMinute+1e3*d:NaN}(g.time)))return p();if(g.timezone){if(isNaN(v=function(e){var r;if("Z"===e)return 0;let i=e.match(o);if(!i)return 0;let n="+"===i[1]?-1:1,s=parseInt(i[2]),l=i[3]&&parseInt(i[3])||0;return(r=l)>=0&&r<=59?n*(s*t.millisecondsInHour+l*t.millisecondsInMinute):NaN}(g.timezone)))return p()}else{let e=new Date(y+j),t=(0,i.toDate)(0,null==n?void 0:n.in);return t.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),t.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),t}return(0,i.toDate)(y+j+v,null==n?void 0:n.in)}let s={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},l=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,a=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,o=/^([+-])(\d{2})(?::?(\d{2}))?$/;function d(e){return e?parseInt(e):1}function u(e){return e&&parseFloat(e.replace(",","."))||0}let c=[31,null,31,30,31,30,31,31,30,31,30,31];function h(e){return e%400==0||e%4==0&&e%100!=0}},78894,e=>{"use strict";e.s(["AlertTriangle",()=>t],78894);let t=(0,e.i(75254).default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},25652,e=>{"use strict";e.s(["TrendingUp",()=>t],25652);let t=(0,e.i(75254).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},21218,e=>{"use strict";e.s(["Activity",()=>t],21218);let t=(0,e.i(75254).default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},24687,e=>{"use strict";e.s(["Textarea",()=>i]);var t=e.i(43476),r=e.i(75157);function i(e){let{className:i,...n}=e;return(0,t.jsx)("textarea",{"data-slot":"textarea",className:(0,r.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",i),...n})}},75830,86318,e=>{"use strict";e.s(["createCollection",()=>u],75830);var t,r=e.i(39946),i=e.i(70292),n=e.i(62351),s=e.i(71645),l=e.i(30030),a=e.i(20783),o=e.i(91918),d=e.i(43476);function u(e){let t=e+"CollectionProvider",[r,i]=(0,l.createContextScope)(t),[n,u]=r(t,{collectionRef:{current:null},itemMap:new Map}),c=e=>{let{scope:t,children:r}=e,i=s.default.useRef(null),l=s.default.useRef(new Map).current;return(0,d.jsx)(n,{scope:t,itemMap:l,collectionRef:i,children:r})};c.displayName=t;let h=e+"CollectionSlot",m=(0,o.createSlot)(h),f=s.default.forwardRef((e,t)=>{let{scope:r,children:i}=e,n=u(h,r),s=(0,a.useComposedRefs)(t,n.collectionRef);return(0,d.jsx)(m,{ref:s,children:i})});f.displayName=h;let v=e+"CollectionItemSlot",p="data-radix-collection-item",x=(0,o.createSlot)(v),g=s.default.forwardRef((e,t)=>{let{scope:r,children:i,...n}=e,l=s.default.useRef(null),o=(0,a.useComposedRefs)(t,l),c=u(v,r);return s.default.useEffect(()=>(c.itemMap.set(l,{ref:l,...n}),()=>void c.itemMap.delete(l))),(0,d.jsx)(x,{...{[p]:""},ref:o,children:i})});return g.displayName=v,[{Provider:c,Slot:f,ItemSlot:g},function(t){let r=u(e+"CollectionConsumer",t);return s.default.useCallback(()=>{let e=r.collectionRef.current;if(!e)return[];let t=Array.from(e.querySelectorAll("[".concat(p,"]")));return Array.from(r.itemMap.values()).sort((e,r)=>t.indexOf(e.ref.current)-t.indexOf(r.ref.current))},[r.collectionRef,r.itemMap])},i]}var c=new WeakMap;function h(e,t){if("at"in Array.prototype)return Array.prototype.at.call(e,t);let r=function(e,t){let r=e.length,i=m(t),n=i>=0?i:r+i;return n<0||n>=r?-1:n}(e,t);return -1===r?void 0:e[r]}function m(e){return e!=e||0===e?0:Math.trunc(e)}t=new WeakMap,(class e extends Map{set(e,i){return c.get(this)&&(this.has(e)?(0,r._)(this,t)[(0,r._)(this,t).indexOf(e)]=e:(0,r._)(this,t).push(e)),super.set(e,i),this}insert(e,i,n){let s,l=this.has(i),a=(0,r._)(this,t).length,o=m(e),d=o>=0?o:a+o,u=d<0||d>=a?-1:d;if(u===this.size||l&&u===this.size-1||-1===u)return this.set(i,n),this;let c=this.size+ +!l;o<0&&d++;let h=[...(0,r._)(this,t)],f=!1;for(let e=d;e<c;e++)if(d===e){let t=h[e];h[e]===i&&(t=h[e+1]),l&&this.delete(i),s=this.get(t),this.set(i,n)}else{f||h[e-1]!==i||(f=!0);let t=h[f?e:e-1],r=s;s=this.get(t),this.delete(t),this.set(t,r)}return this}with(t,r,i){let n=new e(this);return n.insert(t,r,i),n}before(e){let i=(0,r._)(this,t).indexOf(e)-1;if(!(i<0))return this.entryAt(i)}setBefore(e,i,n){let s=(0,r._)(this,t).indexOf(e);return -1===s?this:this.insert(s,i,n)}after(e){let i=(0,r._)(this,t).indexOf(e);if(-1!==(i=-1===i||i===this.size-1?-1:i+1))return this.entryAt(i)}setAfter(e,i,n){let s=(0,r._)(this,t).indexOf(e);return -1===s?this:this.insert(s+1,i,n)}first(){return this.entryAt(0)}last(){return this.entryAt(-1)}clear(){return(0,n._)(this,t,[]),super.clear()}delete(e){let i=super.delete(e);return i&&(0,r._)(this,t).splice((0,r._)(this,t).indexOf(e),1),i}deleteAt(e){let t=this.keyAt(e);return void 0!==t&&this.delete(t)}at(e){let i=h((0,r._)(this,t),e);if(void 0!==i)return this.get(i)}entryAt(e){let i=h((0,r._)(this,t),e);if(void 0!==i)return[i,this.get(i)]}indexOf(e){return(0,r._)(this,t).indexOf(e)}keyAt(e){return h((0,r._)(this,t),e)}from(e,t){let r=this.indexOf(e);if(-1===r)return;let i=r+t;return i<0&&(i=0),i>=this.size&&(i=this.size-1),this.at(i)}keyFrom(e,t){let r=this.indexOf(e);if(-1===r)return;let i=r+t;return i<0&&(i=0),i>=this.size&&(i=this.size-1),this.keyAt(i)}find(e,t){let r=0;for(let i of this){if(Reflect.apply(e,t,[i,r,this]))return i;r++}}findIndex(e,t){let r=0;for(let i of this){if(Reflect.apply(e,t,[i,r,this]))return r;r++}return -1}filter(t,r){let i=[],n=0;for(let e of this)Reflect.apply(t,r,[e,n,this])&&i.push(e),n++;return new e(i)}map(t,r){let i=[],n=0;for(let e of this)i.push([e[0],Reflect.apply(t,r,[e,n,this])]),n++;return new e(i)}reduce(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let[i,n]=t,s=0,l=null!=n?n:this.at(0);for(let e of this)l=0===s&&1===t.length?e:Reflect.apply(i,this,[l,e,s,this]),s++;return l}reduceRight(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let[i,n]=t,s=null!=n?n:this.at(-1);for(let e=this.size-1;e>=0;e--){let r=this.at(e);s=e===this.size-1&&1===t.length?r:Reflect.apply(i,this,[s,r,e,this])}return s}toSorted(t){return new e([...this.entries()].sort(t))}toReversed(){let t=new e;for(let e=this.size-1;e>=0;e--){let r=this.keyAt(e),i=this.get(r);t.set(r,i)}return t}toSpliced(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];let n=[...this.entries()];return n.splice(...r),new e(n)}slice(t,r){let i=new e,n=this.size-1;if(void 0===t)return i;t<0&&(t+=this.size),void 0!==r&&r>0&&(n=r-1);for(let e=t;e<=n;e++){let t=this.keyAt(e),r=this.get(t);i.set(t,r)}return i}every(e,t){let r=0;for(let i of this){if(!Reflect.apply(e,t,[i,r,this]))return!1;r++}return!0}some(e,t){let r=0;for(let i of this){if(Reflect.apply(e,t,[i,r,this]))return!0;r++}return!1}constructor(e){super(e),(0,i._)(this,t,{writable:!0,value:void 0}),(0,n._)(this,t,[...super.keys()]),c.set(this,!0)}}),e.s(["useDirection",()=>v],86318);var f=s.createContext(void 0);function v(e){let t=s.useContext(f);return e||t||"ltr"}},35804,e=>{"use strict";e.s(["useSize",()=>i]);var t=e.i(71645),r=e.i(34620);function i(e){let[i,n]=t.useState(void 0);return(0,r.useLayoutEffect)(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let r,i;if(!Array.isArray(t)||!t.length)return;let s=t[0];if("borderBoxSize"in s){let e=s.borderBoxSize,t=Array.isArray(e)?e[0]:e;r=t.inlineSize,i=t.blockSize}else r=e.offsetWidth,i=e.offsetHeight;n({width:r,height:i})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}n(void 0)},[e]),i}},99682,e=>{"use strict";e.s(["usePrevious",()=>r]);var t=e.i(71645);function r(e){let r=t.useRef({value:e,previous:e});return t.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}},78784,e=>{"use strict";e.s(["CheckIcon",()=>t],78784);let t=(0,e.i(75254).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},85071,e=>{"use strict";e.s(["useCreateTask",()=>d,"useTasks",()=>o,"useUpdateTaskState",()=>u]);var t=e.i(66027),r=e.i(54616),i=e.i(12598),n=e.i(16973),s=e.i(32661),l=e.i(93272);let a={all:["tasks"],lists:()=>[...a.all,"list"],list:e=>[...a.lists(),{filters:e}],details:()=>[...a.all,"detail"],detail:e=>[...a.details(),e]};function o(){return(0,t.useQuery)({queryKey:a.lists(),queryFn:()=>n.tasksApi.getAll().then(e=>e.data)})}function d(){let e=(0,i.useQueryClient)();return(0,r.useMutation)({mutationFn:e=>n.tasksApi.create(e).then(e=>e.data),onSuccess:()=>{e.invalidateQueries({queryKey:a.lists()}),e.invalidateQueries({queryKey:s.projectKeys.lists()}),e.invalidateQueries({queryKey:l.dashboardKeys.kpis()})}})}function u(){let e=(0,i.useQueryClient)();return(0,r.useMutation)({mutationFn:e=>{let{id:t,data:r}=e;return n.tasksApi.updateState(t,r).then(e=>e.data)},onSuccess:t=>{e.invalidateQueries({queryKey:a.lists()}),e.setQueryData(a.detail(t.id),t),e.invalidateQueries({queryKey:l.dashboardKeys.kpis()})}})}},10204,e=>{"use strict";e.s(["Label",()=>l],10204);var t=e.i(43476),r=e.i(71645),i=e.i(48425),n=r.forwardRef((e,r)=>(0,t.jsx)(i.Primitive.label,{...e,ref:r,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null==(r=e.onMouseDown)||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));n.displayName="Label";var s=e.i(75157);function l(e){let{className:r,...i}=e;return(0,t.jsx)(n,{"data-slot":"label",className:(0,s.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",r),...i})}},81140,30030,e=>{"use strict";function t(e,t){let{checkForDefaultPrevented:r=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(i){if(null==e||e(i),!1===r||!i.defaultPrevented)return null==t?void 0:t(i)}}e.s(["composeEventHandlers",()=>t],81140),"undefined"!=typeof window&&window.document&&window.document.createElement,e.s(["createContext",()=>n,"createContextScope",()=>s],30030);var r=e.i(71645),i=e.i(43476);function n(e,t){let n=r.createContext(t),s=e=>{let{children:t,...s}=e,l=r.useMemo(()=>s,Object.values(s));return(0,i.jsx)(n.Provider,{value:l,children:t})};return s.displayName=e+"Provider",[s,function(i){let s=r.useContext(n);if(s)return s;if(void 0!==t)return t;throw Error("`".concat(i,"` must be used within `").concat(e,"`"))}]}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],s=()=>{let t=n.map(e=>r.createContext(e));return function(i){let n=(null==i?void 0:i[e])||t;return r.useMemo(()=>({["__scope".concat(e)]:{...i,[e]:n}}),[i,n])}};return s.scopeName=e,[function(t,s){let l=r.createContext(s),a=n.length;n=[...n,s];let o=t=>{var n;let{scope:s,children:o,...d}=t,u=(null==s||null==(n=s[e])?void 0:n[a])||l,c=r.useMemo(()=>d,Object.values(d));return(0,i.jsx)(u.Provider,{value:c,children:o})};return o.displayName=t+"Provider",[o,function(i,n){var o;let d=(null==n||null==(o=n[e])?void 0:o[a])||l,u=r.useContext(d);if(u)return u;if(void 0!==s)return s;throw Error("`".concat(i,"` must be used within `").concat(t,"`"))}]},function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];let n=t[0];if(1===t.length)return n;let s=()=>{let e=t.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(t){let i=e.reduce((e,r)=>{let{useScope:i,scopeName:n}=r,s=i(t)["__scope".concat(n)];return{...e,...s}},{});return r.useMemo(()=>({["__scope".concat(n.scopeName)]:i}),[i])}};return s.scopeName=n.scopeName,s}(s,...t)]}},10772,34620,e=>{"use strict";e.s(["useId",()=>l],10772);var t,r=e.i(71645);e.s(["useLayoutEffect",()=>i],34620);var i=(null==(t=globalThis)?void 0:t.document)?r.useLayoutEffect:()=>{},n=r[" useId ".trim().toString()]||(()=>void 0),s=0;function l(e){let[t,l]=r.useState(n());return i(()=>{e||l(e=>null!=e?e:String(s++))},[e]),e||(t?"radix-".concat(t):"")}},69340,e=>{"use strict";e.s(["useControllableState",()=>n],69340);var t=e.i(71645),r=e.i(34620);t[" useEffectEvent ".trim().toString()],t[" useInsertionEffect ".trim().toString()];var i=t[" useInsertionEffect ".trim().toString()]||r.useLayoutEffect;function n(e){let{prop:r,defaultProp:n,onChange:s=()=>{},caller:l}=e,[a,o,d]=function(e){let{defaultProp:r,onChange:n}=e,[s,l]=t.useState(r),a=t.useRef(s),o=t.useRef(n);return i(()=>{o.current=n},[n]),t.useEffect(()=>{if(a.current!==s){var e;null==(e=o.current)||e.call(o,s),a.current=s}},[s,a]),[s,l,o]}({defaultProp:n,onChange:s}),u=void 0!==r,c=u?r:a;{let e=t.useRef(void 0!==r);t.useEffect(()=>{let t=e.current;if(t!==u){let e=u?"controlled":"uncontrolled";console.warn("".concat(l," is changing from ").concat(t?"controlled":"uncontrolled"," to ").concat(e,". Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component."))}e.current=u},[u,l])}return[c,t.useCallback(e=>{if(u){let i="function"==typeof e?e(r):e;if(i!==r){var t;null==(t=d.current)||t.call(d,i)}}else o(e)},[u,r,o,d])]}Symbol("RADIX:SYNC_STATE")},48425,30207,e=>{"use strict";e.s(["Primitive",()=>s,"dispatchDiscreteCustomEvent",()=>l],48425);var t=e.i(71645),r=e.i(74080),i=e.i(91918),n=e.i(43476),s=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,r)=>{let s=(0,i.createSlot)("Primitive.".concat(r)),l=t.forwardRef((e,t)=>{let{asChild:i,...l}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,n.jsx)(i?s:r,{...l,ref:t})});return l.displayName="Primitive.".concat(r),{...e,[r]:l}},{});function l(e,t){e&&r.flushSync(()=>e.dispatchEvent(t))}function a(e){let r=t.useRef(e);return t.useEffect(()=>{r.current=e}),t.useMemo(()=>function(){for(var e,t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];return null==(e=r.current)?void 0:e.call(r,...i)},[])}e.s(["useCallbackRef",()=>a],30207)},96626,e=>{"use strict";e.s(["Presence",()=>n]);var t=e.i(71645),r=e.i(20783),i=e.i(34620),n=e=>{let{present:n,children:l}=e,a=function(e){var r,n;let[l,a]=t.useState(),o=t.useRef(null),d=t.useRef(e),u=t.useRef("none"),[c,h]=(r=e?"mounted":"unmounted",n={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},t.useReducer((e,t)=>{let r=n[e][t];return null!=r?r:e},r));return t.useEffect(()=>{let e=s(o.current);u.current="mounted"===c?e:"none"},[c]),(0,i.useLayoutEffect)(()=>{let t=o.current,r=d.current;if(r!==e){let i=u.current,n=s(t);e?h("MOUNT"):"none"===n||(null==t?void 0:t.display)==="none"?h("UNMOUNT"):r&&i!==n?h("ANIMATION_OUT"):h("UNMOUNT"),d.current=e}},[e,h]),(0,i.useLayoutEffect)(()=>{if(l){var e;let t,r=null!=(e=l.ownerDocument.defaultView)?e:window,i=e=>{let i=s(o.current).includes(CSS.escape(e.animationName));if(e.target===l&&i&&(h("ANIMATION_END"),!d.current)){let e=l.style.animationFillMode;l.style.animationFillMode="forwards",t=r.setTimeout(()=>{"forwards"===l.style.animationFillMode&&(l.style.animationFillMode=e)})}},n=e=>{e.target===l&&(u.current=s(o.current))};return l.addEventListener("animationstart",n),l.addEventListener("animationcancel",i),l.addEventListener("animationend",i),()=>{r.clearTimeout(t),l.removeEventListener("animationstart",n),l.removeEventListener("animationcancel",i),l.removeEventListener("animationend",i)}}h("ANIMATION_END")},[l,h]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:t.useCallback(e=>{o.current=e?getComputedStyle(e):null,a(e)},[])}}(n),o="function"==typeof l?l({present:a.isPresent}):t.Children.only(l),d=(0,r.useComposedRefs)(a.ref,function(e){var t,r;let i=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,n=i&&"isReactWarning"in i&&i.isReactWarning;return n?e.ref:(n=(i=null==(r=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:r.get)&&"isReactWarning"in i&&i.isReactWarning)?e.props.ref:e.props.ref||e.ref}(o));return"function"==typeof l||a.isPresent?t.cloneElement(o,{ref:d}):null};function s(e){return(null==e?void 0:e.animationName)||"none"}n.displayName="Presence"},41947,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(75254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},81125,e=>{"use strict";e.s(["createReview",()=>r,"deleteReview",()=>l,"getAllReviews",()=>n,"getReviewsByTask",()=>i,"updateReview",()=>s]);var t=e.i(16973);let r=async e=>{try{return await t.default.post("/reviews",e),(await t.default.get("/reviews/task/".concat(e.task_id))).data.sort((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime())[0]||null}catch(e){return null}},i=async e=>{try{return(await t.default.get("/reviews/task/".concat(e))).data}catch(e){return[]}},n=async()=>{try{return(await t.default.get("/reviews")).data}catch(e){return[]}},s=(e,r)=>t.default.patch("/reviews/".concat(e),r).then(e=>e.data),l=e=>t.default.delete("/reviews/".concat(e)).then(e=>e.data)},88511,27612,e=>{"use strict";e.s(["Edit",()=>r],88511);var t=e.i(75254);let r=(0,t.default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);e.s(["Trash2",()=>i],27612);let i=(0,t.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},60519,e=>{"use strict";e.s(["ReviewType",()=>t]);var t=function(e){return e.PREMORTEM="PREMORTEM",e.MIDMORTEM="MIDMORTEM",e.RETRO="RETRO",e}({})},81445,e=>{"use strict";e.s(["default",()=>H],81445);var t=e.i(43476),r=e.i(71645),i=e.i(15288),n=e.i(87486),s=e.i(19455),l=e.i(93479),a=e.i(66027),o=e.i(81125),d=e.i(85071),u=e.i(32661),c=e.i(76639),h=e.i(3133),m=e.i(67489),f=e.i(24687),v=e.i(88511),p=e.i(27612),x=e.i(53145),g=e.i(94814),y=e.i(62201),j=e.i(54616),w=e.i(12598),b=e.i(46696),N=e.i(60519);let M=y.object({review_type:y.nativeEnum(N.ReviewType,{message:"리뷰 타입을 선택해주세요"}),positives:y.string().min(1,"긍정적인 점을 입력해주세요"),negatives:y.string().min(1,"부정적인 점을 입력해주세요"),changes_next:y.string().min(1,"다음에 바꿀 점을 입력해주세요")}),R={[N.ReviewType.PREMORTEM]:{label:"사전 검토 (Premortem)",description:"프로젝트 시작 전 위험 요소와 개선점 분석",positiveLabel:"예상되는 장점",negativeLabel:"예상되는 위험",changesLabel:"사전 준비사항"},[N.ReviewType.MIDMORTEM]:{label:"중간 검토 (Midmortem)",description:"프로젝트 진행 중 현황 점검과 조정",positiveLabel:"잘 되고 있는 점",negativeLabel:"문제점",changesLabel:"조정할 점"},[N.ReviewType.RETRO]:{label:"회고 (Retrospective)",description:"프로젝트 완료 후 결과 분석과 학습",positiveLabel:"잘했던 점",negativeLabel:"아쉬웠던 점",changesLabel:"다음에 바꿀 점"}};function C(e){let{review:i,taskId:n,triggerText:l="수정"}=e,[a,d]=(0,r.useState)(!1),u=(0,w.useQueryClient)(),y=(0,x.useForm)({resolver:(0,g.zodResolver)(M),defaultValues:{review_type:i.review_type,positives:i.positives,negatives:i.negatives,changes_next:i.changes_next}}),N=y.watch("review_type"),C=N?R[N]:null,T=(0,j.useMutation)({mutationFn:e=>{let{id:t,data:r}=e;return(0,o.updateReview)(t,r)},onSuccess:()=>{b.toast.success("리뷰가 수정되었습니다!"),u.invalidateQueries({queryKey:["reviews",n]}),u.invalidateQueries({queryKey:["all-reviews"]}),d(!1)},onError:e=>{var t,r;let i=(null==e||null==(r=e.response)||null==(t=r.data)?void 0:t.detail)||"리뷰 수정에 실패했습니다.";b.toast.error(i),console.error("Error updating review:",e)}}),_=(0,j.useMutation)({mutationFn:o.deleteReview,onSuccess:()=>{b.toast.success("리뷰가 삭제되었습니다!"),u.invalidateQueries({queryKey:["reviews",n]}),u.invalidateQueries({queryKey:["all-reviews"]}),d(!1)},onError:e=>{var t,r;let i=(null==e||null==(r=e.response)||null==(t=r.data)?void 0:t.detail)||"리뷰 삭제에 실패했습니다.";b.toast.error(i),console.error("Error deleting review:",e)}}),E=async e=>{let t={task_id:n,review_type:e.review_type,positives:e.positives,negatives:e.negatives,changes_next:e.changes_next};T.mutate({id:i.id,data:t})};return(0,t.jsxs)(c.Dialog,{open:a,onOpenChange:d,children:[(0,t.jsx)(c.DialogTrigger,{asChild:!0,children:(0,t.jsxs)(s.Button,{variant:"outline",size:"sm",children:[(0,t.jsx)(v.Edit,{className:"mr-2 h-4 w-4"}),l]})}),(0,t.jsxs)(c.DialogContent,{className:"sm:max-w-[700px] max-h-[80vh] overflow-y-auto",children:[(0,t.jsxs)(c.DialogHeader,{children:[(0,t.jsx)(c.DialogTitle,{children:"리뷰 수정"}),(0,t.jsx)(c.DialogDescription,{children:"리뷰 내용을 수정하거나 삭제할 수 있습니다."})]}),(0,t.jsx)(h.Form,{...y,children:(0,t.jsxs)("form",{onSubmit:y.handleSubmit(E),className:"space-y-4",children:[(0,t.jsx)(h.FormField,{control:y.control,name:"review_type",render:e=>{let{field:r}=e;return(0,t.jsxs)(h.FormItem,{children:[(0,t.jsx)(h.FormLabel,{children:"리뷰 타입 *"}),(0,t.jsxs)(m.Select,{onValueChange:r.onChange,defaultValue:r.value,children:[(0,t.jsx)(h.FormControl,{children:(0,t.jsx)(m.SelectTrigger,{children:(0,t.jsx)(m.SelectValue,{placeholder:"리뷰 타입을 선택해주세요"})})}),(0,t.jsx)(m.SelectContent,{children:Object.entries(R).map(e=>{let[r,i]=e;return(0,t.jsx)(m.SelectItem,{value:r,children:i.label},r)})})]}),C&&(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:C.description}),(0,t.jsx)(h.FormMessage,{})]})}}),C&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.FormField,{control:y.control,name:"positives",render:e=>{let{field:r}=e;return(0,t.jsxs)(h.FormItem,{children:[(0,t.jsxs)(h.FormLabel,{children:[C.positiveLabel," *"]}),(0,t.jsx)(h.FormControl,{children:(0,t.jsx)(f.Textarea,{className:"min-h-[80px]",...r})}),(0,t.jsx)(h.FormMessage,{})]})}}),(0,t.jsx)(h.FormField,{control:y.control,name:"negatives",render:e=>{let{field:r}=e;return(0,t.jsxs)(h.FormItem,{children:[(0,t.jsxs)(h.FormLabel,{children:[C.negativeLabel," *"]}),(0,t.jsx)(h.FormControl,{children:(0,t.jsx)(f.Textarea,{className:"min-h-[80px]",...r})}),(0,t.jsx)(h.FormMessage,{})]})}}),(0,t.jsx)(h.FormField,{control:y.control,name:"changes_next",render:e=>{let{field:r}=e;return(0,t.jsxs)(h.FormItem,{children:[(0,t.jsxs)(h.FormLabel,{children:[C.changesLabel," *"]}),(0,t.jsx)(h.FormControl,{children:(0,t.jsx)(f.Textarea,{className:"min-h-[80px]",...r})}),(0,t.jsx)(h.FormMessage,{})]})}})]}),(0,t.jsxs)("div",{className:"flex justify-between pt-4",children:[(0,t.jsxs)(s.Button,{type:"button",variant:"destructive",onClick:()=>{window.confirm("정말로 이 리뷰를 삭제하시겠습니까?")&&_.mutate(i.id)},disabled:_.isPending,children:[(0,t.jsx)(p.Trash2,{className:"mr-2 h-4 w-4"}),_.isPending?"삭제 중...":"삭제"]}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsx)(s.Button,{type:"button",variant:"outline",onClick:()=>d(!1),children:"취소"}),(0,t.jsx)(s.Button,{type:"submit",disabled:T.isPending,children:T.isPending?"수정 중...":"수정"})]})]})]})})]})]})}var T=e.i(61911),_=e.i(55436),E=e.i(87316),k=e.i(75505),S=e.i(78894),O=e.i(21218),D=e.i(75254);let A=(0,D.default)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);var F=e.i(25652);let I=(0,D.default)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]),L=(0,D.default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var P=e.i(1851),z=e.i(26514),U=e.i(22016);let q={[N.ReviewType.PREMORTEM]:{label:"사전 검토",description:"시작 전 위험 분석",icon:S.AlertTriangle,color:"bg-yellow-500",variant:"secondary"},[N.ReviewType.MIDMORTEM]:{label:"중간 검토",description:"진행 중 점검",icon:O.Activity,color:"bg-blue-500",variant:"default"},[N.ReviewType.RETRO]:{label:"회고",description:"완료 후 학습",icon:A,color:"bg-green-500",variant:"outline"}};function H(){let[e,c]=(0,r.useState)(""),{data:h,isLoading:m}=(0,a.useQuery)({queryKey:["all-reviews"],queryFn:o.getAllReviews,retry:!1}),{data:f,isLoading:v}=(0,d.useTasks)(),{data:p,isLoading:x}=(0,u.useProjects)(),g=(null==f?void 0:f.reduce((e,t)=>(e[t.id]=t,e),{}))||{},y=(null==p?void 0:p.reduce((e,t)=>(e[t.id]=t,e),{}))||{},j=(null==h?void 0:h.filter(t=>{if(!e)return!0;let r=e.toLowerCase(),i=g[t.task_id],n=i?y[i.project_id]:null;return t.positives.toLowerCase().includes(r)||t.negatives.toLowerCase().includes(r)||t.changes_next.toLowerCase().includes(r)||(null==i?void 0:i.title.toLowerCase().includes(r))||(null==n?void 0:n.name.toLowerCase().includes(r))||q[t.review_type].label.toLowerCase().includes(r)}))||[],w={total:(null==h?void 0:h.length)||0,premortem:(null==h?void 0:h.filter(e=>e.review_type===N.ReviewType.PREMORTEM).length)||0,midmortem:(null==h?void 0:h.filter(e=>e.review_type===N.ReviewType.MIDMORTEM).length)||0,retro:(null==h?void 0:h.filter(e=>e.review_type===N.ReviewType.RETRO).length)||0};return m||v||x?(0,t.jsx)("div",{className:"container mx-auto p-6",children:(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsxs)("div",{className:"text-center space-y-4",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-primary border-t-transparent mx-auto"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"리뷰를 불러오는 중..."})]})})}):(0,t.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[(0,t.jsx)(T.Users,{className:"h-8 w-8"}),"리뷰 시스템"]}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Premortem, Midmortem, Retrospective - 체계적인 리뷰 프로세스"})]}),(0,t.jsxs)("div",{className:"relative max-w-md",children:[(0,t.jsx)(_.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(l.Input,{placeholder:"리뷰 내용, 작업명, 프로젝트명으로 검색...",value:e,onChange:e=>c(e.target.value),className:"pl-10"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,t.jsxs)(i.Card,{children:[(0,t.jsx)(i.CardHeader,{className:"pb-3",children:(0,t.jsx)(i.CardTitle,{className:"text-lg",children:"전체 리뷰"})}),(0,t.jsx)(i.CardContent,{children:(0,t.jsx)("div",{className:"text-3xl font-bold",children:w.total})})]}),(0,t.jsxs)(i.Card,{children:[(0,t.jsx)(i.CardHeader,{className:"pb-3",children:(0,t.jsx)(i.CardTitle,{className:"text-lg text-yellow-600",children:"사전 검토"})}),(0,t.jsx)(i.CardContent,{children:(0,t.jsx)("div",{className:"text-3xl font-bold",children:w.premortem})})]}),(0,t.jsxs)(i.Card,{children:[(0,t.jsx)(i.CardHeader,{className:"pb-3",children:(0,t.jsx)(i.CardTitle,{className:"text-lg text-blue-600",children:"중간 검토"})}),(0,t.jsx)(i.CardContent,{children:(0,t.jsx)("div",{className:"text-3xl font-bold",children:w.midmortem})})]}),(0,t.jsxs)(i.Card,{children:[(0,t.jsx)(i.CardHeader,{className:"pb-3",children:(0,t.jsx)(i.CardTitle,{className:"text-lg text-green-600",children:"회고"})}),(0,t.jsx)(i.CardContent,{children:(0,t.jsx)("div",{className:"text-3xl font-bold",children:w.retro})})]})]}),(0,t.jsxs)(i.Card,{children:[(0,t.jsxs)(i.CardHeader,{children:[(0,t.jsx)(i.CardTitle,{children:"리뷰 목록"}),(0,t.jsx)(i.CardDescription,{children:j.length?"".concat(j.length,"개의 리뷰"):"검색 조건에 맞는 리뷰가 없습니다"})]}),(0,t.jsx)(i.CardContent,{children:0===j.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(T.Users,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:0===w.total?"작성된 리뷰가 없습니다":"검색 결과가 없습니다"}),(0,t.jsx)("p",{className:"text-muted-foreground mb-4",children:0===w.total?"프로젝트 상세 페이지에서 작업별로 리뷰를 작성해보세요":"다른 검색어로 시도해보세요"}),0===w.total&&(0,t.jsx)(s.Button,{asChild:!0,children:(0,t.jsx)(U.default,{href:"/projects",children:"프로젝트 보기"})})]}):(0,t.jsx)("div",{className:"space-y-6",children:j.sort((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime()).map(e=>{let r=g[e.task_id],l=r?y[r.project_id]:null,a=q[e.review_type],o=a.icon;return(0,t.jsxs)(i.Card,{className:"border-l-4 border-l-indigo-500",children:[(0,t.jsx)(i.CardHeader,{children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsxs)(n.Badge,{variant:a.variant,className:"flex items-center gap-1",children:[(0,t.jsx)(o,{className:"h-3 w-3"}),a.label]}),(0,t.jsxs)(n.Badge,{variant:"outline",className:"flex items-center gap-1",children:[(0,t.jsx)(E.Calendar,{className:"h-3 w-3"}),(0,P.format)((0,z.parseISO)(e.created_at),"yyyy-MM-dd")]})]}),r&&(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(k.FolderOpen,{className:"h-4 w-4"}),(0,t.jsx)(U.default,{href:"/projects/".concat(r.project_id),className:"hover:underline",children:(null==l?void 0:l.name)||"프로젝트 ".concat(r.project_id)})]}),(0,t.jsxs)("span",{children:["→ ",r.title]})]})]}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)(C,{review:e,taskId:e.task_id})})]})}),(0,t.jsxs)(i.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"font-semibold text-sm text-muted-foreground mb-2 flex items-center gap-1",children:[(0,t.jsx)(F.TrendingUp,{className:"h-3 w-3 text-green-600"}),e.review_type===N.ReviewType.PREMORTEM?"예상되는 장점":e.review_type===N.ReviewType.MIDMORTEM?"잘 되고 있는 점":"잘했던 점"]}),(0,t.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-md p-3",children:(0,t.jsx)("p",{className:"text-sm",children:e.positives})})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"font-semibold text-sm text-muted-foreground mb-2 flex items-center gap-1",children:[(0,t.jsx)(I,{className:"h-3 w-3 text-red-600"}),e.review_type===N.ReviewType.PREMORTEM?"예상되는 위험":e.review_type===N.ReviewType.MIDMORTEM?"문제점":"아쉬웠던 점"]}),(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:(0,t.jsx)("p",{className:"text-sm",children:e.negatives})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"font-semibold text-sm text-muted-foreground mb-2 flex items-center gap-1",children:[(0,t.jsx)(L,{className:"h-3 w-3 text-blue-600"}),e.review_type===N.ReviewType.PREMORTEM?"사전 준비사항":e.review_type===N.ReviewType.MIDMORTEM?"조정할 점":"다음에 바꿀 점"]}),(0,t.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:(0,t.jsx)("p",{className:"text-sm",children:e.changes_next})})]}),(0,t.jsx)("div",{className:"flex justify-end pt-2",children:(0,t.jsx)(s.Button,{asChild:!0,variant:"outline",size:"sm",children:(0,t.jsx)(U.default,{href:"/projects/".concat(null==r?void 0:r.project_id),children:"작업 보기"})})})]})]},e.id)})})})]})]})}}]);