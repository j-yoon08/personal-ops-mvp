module.exports=[15618,a=>{"use strict";a.s(["Plus",()=>b],15618);let b=(0,a.i(70106).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},53524,a=>{"use strict";a.s(["default",()=>v],53524);var b=a.i(87924),c=a.i(50944),d=a.i(91119),e=a.i(86304),f=a.i(99570),g=a.i(86456),h=a.i(72131),i=a.i(14574),j=a.i(41921),k=a.i(66718),l=a.i(15618),m=a.i(95245),n=a.i(59501),o=a.i(54714),p=a.i(23292);let q=o.object({name:o.string().min(1,"프로젝트 이름을 입력해주세요"),description:o.string().optional()});function r(){let[a,c]=(0,h.useState)(!1),d=(0,g.useCreateProject)(),e=(0,m.useForm)({resolver:(0,n.zodResolver)(q),defaultValues:{name:"",description:""}}),o=async a=>{try{await d.mutateAsync(a),p.toast.success("프로젝트가 생성되었습니다!"),e.reset(),c(!1)}catch(a){p.toast.error("프로젝트 생성에 실패했습니다."),console.error("Error creating project:",a)}};return(0,b.jsxs)(i.Dialog,{open:a,onOpenChange:c,children:[(0,b.jsx)(i.DialogTrigger,{asChild:!0,children:(0,b.jsxs)(f.Button,{children:[(0,b.jsx)(l.Plus,{className:"mr-2 h-4 w-4"}),"새 프로젝트"]})}),(0,b.jsxs)(i.DialogContent,{className:"sm:max-w-[425px]",children:[(0,b.jsxs)(i.DialogHeader,{children:[(0,b.jsx)(i.DialogTitle,{children:"새 프로젝트 생성"}),(0,b.jsx)(i.DialogDescription,{children:"새로운 프로젝트를 생성합니다. 프로젝트 이름은 필수입니다."})]}),(0,b.jsx)(j.Form,{...e,children:(0,b.jsxs)("form",{onSubmit:e.handleSubmit(o),className:"space-y-4",children:[(0,b.jsx)(j.FormField,{control:e.control,name:"name",render:({field:a})=>(0,b.jsxs)(j.FormItem,{children:[(0,b.jsx)(j.FormLabel,{children:"프로젝트 이름 *"}),(0,b.jsx)(j.FormControl,{children:(0,b.jsx)(k.Input,{placeholder:"예: Capstone v2",...a})}),(0,b.jsx)(j.FormMessage,{})]})}),(0,b.jsx)(j.FormField,{control:e.control,name:"description",render:({field:a})=>(0,b.jsxs)(j.FormItem,{children:[(0,b.jsx)(j.FormLabel,{children:"설명 (선택)"}),(0,b.jsx)(j.FormControl,{children:(0,b.jsx)(k.Input,{placeholder:"프로젝트 설명을 입력하세요",...a})}),(0,b.jsx)(j.FormMessage,{})]})}),(0,b.jsxs)("div",{className:"flex justify-end space-x-2 pt-4",children:[(0,b.jsx)(f.Button,{type:"button",variant:"outline",onClick:()=>c(!1),children:"취소"}),(0,b.jsx)(f.Button,{type:"submit",disabled:d.isPending,children:d.isPending?"생성 중...":"생성"})]})]})})]})]})}var s=a.i(96101),t=a.i(41675),u=a.i(56711);function v(){let a=(0,c.useRouter)(),{data:h,isLoading:i}=(0,g.useProjects)();return i?(0,b.jsx)("div",{className:"container mx-auto p-6",children:(0,b.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,b.jsxs)("div",{className:"text-center space-y-4",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-primary border-t-transparent mx-auto"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"프로젝트를 불러오는 중..."})]})})}):(0,b.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[(0,b.jsx)(s.FolderOpen,{className:"h-8 w-8"}),"프로젝트 관리"]}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"전체 프로젝트 현황 및 관리"})]}),(0,b.jsx)(r,{})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsx)(d.CardTitle,{className:"text-lg",children:"전체 프로젝트"})}),(0,b.jsx)(d.CardContent,{children:(0,b.jsx)("div",{className:"text-3xl font-bold",children:h?.length||0})})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsx)(d.CardTitle,{className:"text-lg",children:"총 작업 수"})}),(0,b.jsx)(d.CardContent,{children:(0,b.jsx)("div",{className:"text-3xl font-bold",children:h?.reduce((a,b)=>a+(b.task_count||0),0)||0})})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsx)(d.CardTitle,{className:"text-lg",children:"평균 작업/프로젝트"})}),(0,b.jsx)(d.CardContent,{children:(0,b.jsx)("div",{className:"text-3xl font-bold",children:h?.length?Math.round(h.reduce((a,b)=>a+(b.task_count||0),0)/h.length*10)/10:0})})]})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsx)(d.CardTitle,{children:"프로젝트 목록"}),(0,b.jsx)(d.CardDescription,{children:h?.length?`${h.length}개의 프로젝트가 있습니다`:"아직 프로젝트가 없습니다"})]}),(0,b.jsx)(d.CardContent,{children:h&&0!==h.length?(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(c=>(0,b.jsxs)(d.Card,{className:"hover:shadow-md transition-shadow",children:[(0,b.jsxs)(d.CardHeader,{className:"pb-3",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start",children:[(0,b.jsx)(d.CardTitle,{className:"text-lg",children:c.name}),(0,b.jsxs)(e.Badge,{variant:"outline",children:[c.task_count||0,"개 작업"]})]}),(0,b.jsx)(d.CardDescription,{className:"line-clamp-2",children:c.description||"설명이 없습니다"})]}),(0,b.jsx)(d.CardContent,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(t.Calendar,{className:"h-4 w-4"}),c.created_at&&(0,u.format)(new Date(c.created_at),"yyyy-MM-dd")]}),(0,b.jsx)(f.Button,{variant:"ghost",size:"sm",onClick:()=>a.push(`/projects/${c.id}`),children:"상세보기"})]})})]},c.id))}):(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(s.FolderOpen,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"프로젝트가 없습니다"}),(0,b.jsx)("p",{className:"text-muted-foreground mb-4",children:"첫 번째 프로젝트를 생성해보세요"}),(0,b.jsx)(r,{})]})})]})]})}}];

//# sourceMappingURL=_beedb4dc._.js.map